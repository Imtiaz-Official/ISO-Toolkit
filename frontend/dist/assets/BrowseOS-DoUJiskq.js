import{r as s,j as e,u as U}from"./index-UFtRJoey.js";import{o as E}from"./api-BpQNbhHn.js";const B={Ubuntu:{url:"https://assets.ubuntu.com/v1/ubuntu-logo32.png",fallback:"ðŸŸ "},Kubuntu:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Kubuntu_logo.svg/120px-Kubuntu_logo.svg.png",fallback:"ðŸ’™"},Xubuntu:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Xubuntu_logo.svg/120px-Xubuntu_logo.svg.png",fallback:"ðŸ¦Š"},Lubuntu:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Lubuntu_logo.svg/120px-Lubuntu_logo.svg.png",fallback:"ðŸ§"},"Ubuntu MATE":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Ubuntu_MATE_logo.svg/120px-Ubuntu_MATE_logo.svg.png",fallback:"ðŸ’š"},"Ubuntu Studio":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/UbuntuStudio_logo.svg/120px-UbuntuStudio_logo.svg.png",fallback:"ðŸŽµ"},Edubuntu:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/Edubuntu_logo.svg/120px-Edubuntu_logo.svg.png",fallback:"ðŸŽ“"},"Ubuntu Budgie":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Ubuntu_Budgie_logo.svg/120px-Ubuntu_Budgie_logo.svg.png",fallback:"ðŸ¦œ"},"Ubuntu Cinnamon":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Ubuntu_Cinnamon_logo.svg/120px-Ubuntu_Cinnamon_logo.svg.png",fallback:"ðŸŽ„"},Debian:{url:"https://www.debian.org/Pics/debian-logo.png",fallback:"ðŸ”´"},"Linux Mint":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Linux_Mint_logo_without_wordmark.svg/120px-Linux_Mint_logo_without_wordmark.svg.png",fallback:"ðŸƒ"},"MX Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/MX_Linux_logo.svg/120px-MX_Linux_logo.svg.png",fallback:"ðŸ´"},antiX:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Antix_M_linux_logo.svg/120px-Antix_M_linux_logo.svg.png",fallback:"ðŸœ"},Fedora:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/Federal_logo_2023.svg/120px-Federal_logo_2023.svg.png",fallback:"ðŸ”µ"},RHEL:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Red_Hat_logo.svg/120px-Red_Hat_logo.svg.png",fallback:"ðŸŽ©"},"Rocky Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/26/Rocky_Linux_logo.svg/120px-Rocky_Linux_logo.svg.png",fallback:"ðŸ’Ž"},AlmaLinux:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/AlmaLinux_logo.svg/120px-AlmaLinux_logo.svg.png",fallback:"ðŸ¦"},"CentOS Stream":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/CentOS_Symbol_logo.svg/120px-CentOS_Symbol_logo.svg.png",fallback:"ðŸ“¦"},"Arch Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Arch_Linux_logo.svg/120px-Arch_Linux_logo.svg.png",fallback:"ðŸ”ï¸"},Manjaro:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Manjaro_logo.svg/120px-Manjaro_logo.svg.png",fallback:"ðŸ’š"},EndeavourOS:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/EndeavourOS_logo.svg/120px-EndeavourOS_logo.svg.png",fallback:"ðŸš€"},"Garuda Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Garuda_Dragon_Logo.svg/120px-Garuda_Dragon_Logo.svg.png",fallback:"ðŸ¦…"},"Artix Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Artix_Linux_logo.svg/120px-Artix_Linux_logo.svg.png",fallback:"ðŸŽ¨"},ArcoLinux:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Arco_Linux_logo.svg/120px-Arco_Linux_logo.svg.png",fallback:"ðŸŽ¯"},openSUSE:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d8/OpenSUSE_logo.svg/120px-OpenSUSE_logo.svg.png",fallback:"ðŸ¦Ž"},"Pop!_OS":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Pop_OS_Logo.svg/120px-Pop_OS_Logo.svg.png",fallback:"ðŸš€"},"elementary OS":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Elementary_OS_logo.svg/120px-Elementary_OS_logo.svg.png",fallback:"ðŸ’Ž"},"Zorin OS":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Zorin_OS_logo.svg/120px-Zorin_OS_logo.svg.png",fallback:"ðŸŒŸ"},Solus:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Solus_logo.svg/120px-Solus_logo.svg.png",fallback:"ðŸŒ¿"},"KDE neon":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/KDE_neon_logo.svg/120px-KDE_neon_logo.svg.png",fallback:"ðŸ’ "},NixOS:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/NixOS_logo.svg/120px-NixOS_logo.svg.png",fallback:"ðŸŒ±"},Gentoo:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Gentoo_Linux_logo.svg/120px-Gentoo_Linux_logo.svg.png",fallback:"ðŸ’œ"},Slackware:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/Slackware_logo.svg/120px-Slackware_logo.svg.png",fallback:"ðŸ”·"},"Void Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/50/Void_Linux_logo.svg/120px-Void_Linux_logo.svg.png",fallback:"âš«"},Deepin:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/Deepin_logo.svg/120px-Deepin_logo.svg.png",fallback:"ðŸŽ¨"},"Bodhi Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Bodhi_Linux_logo.svg/120px-Bodhi_Linux_logo.svg.png",fallback:"ðŸŒ¸"},Q4OS:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Q4os_logo.svg/120px-Q4os_logo.svg.png",fallback:"ðŸ”µ"},PCLinuxOS:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/PCLinuxOS_logo.svg/120px-PCLinuxOS_logo.svg.png",fallback:"ðŸŒ²"},BigLinux:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/32/BigLinux_logo.svg/120px-BigLinux_logo.svg.png",fallback:"ðŸ‡§ðŸ‡·"},RebeccaBlackOS:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/RebeccaBlackOS_logo.svg/120px-RebeccaBlackOS_logo.svg.png",fallback:"ðŸŽ¬"},"Kali Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Kali_Linux_logo_-_wordmark.svg/120px-Kali_Linux_logo_-_wordmark.svg.png",fallback:"ðŸ‰"},"Parrot OS":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Parrot_os_logo.svg/120px-Parrot_os_logo.svg.png",fallback:"ðŸ¦œ"},Tails:{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Tails_logo.svg/120px-Tails_logo.svg.png",fallback:"ðŸ•µï¸"},"Puppy Linux":{url:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Puppy_Linux_logo.svg/120px-Puppy_Linux_logo.svg.png",fallback:"ðŸ•"}};function I(i){var n;return(n=B[i])==null?void 0:n.url}function F(i){var n;return((n=B[i])==null?void 0:n.fallback)||"ðŸ§"}const R={sm:20,md:32,lg:48};function A({distroName:i,size:n="md",className:l=""}){const r=s.useMemo(()=>I(i),[i]),x=F(i),[c,m]=s.useState(!1),u=R[n];return s.useEffect(()=>{m(!1)},[r]),!r||c?e.jsx("span",{className:`inline-flex items-center justify-center ${l}`,style:{fontSize:`${u*.8}px`,width:u,height:u},role:"img","aria-label":i,children:x}):e.jsx("div",{className:`inline-flex items-center justify-center ${l}`,style:{width:u,height:u},children:e.jsx("img",{src:r,alt:i,width:u,height:u,style:{objectFit:"contain",maxWidth:"100%",maxHeight:"100%"},onError:()=>m(!0),loading:"lazy"},r)})}const v="iso-toolkit-last-category",y="iso-toolkit-last-subcategory";function G(){const[i,n]=U(),l=i.get("category"),r=i.get("subcategory"),x=()=>{if(l)return l;const t=localStorage.getItem(v);return t||null},c=()=>{if(r)return r;const t=localStorage.getItem(y);return t||null},[m,u]=s.useState([]),[f,d]=s.useState([]),[p,h]=s.useState(!0),[a,_]=s.useState(x),[o,b]=s.useState(c),[j,S]=s.useState([]),[P,L]=s.useState(!1),[k,D]=s.useState(""),M=[{value:"windows",name:"Windows",icon:""},{value:"linux",name:"Linux",icon:"ðŸ§"},{value:"macos",name:"macOS",icon:"ðŸŽ"},{value:"bsd",name:"BSD",icon:"ðŸ¡"}];s.useEffect(()=>{const t=new URLSearchParams;a&&t.set("category",a),o&&t.set("subcategory",o),n(t,{replace:!0})},[a,o,n]),s.useEffect(()=>{l&&!a&&_(l),r&&!o&&b(r)},[l,r]),s.useEffect(()=>{a?localStorage.setItem(v,a):localStorage.removeItem(v)},[a]),s.useEffect(()=>{o?localStorage.setItem(y,o):localStorage.removeItem(y)},[o]),s.useEffect(()=>{async function t(){if(a==="linux"){L(!0);try{const g=await E.getLinuxSubcategories();S(g)}catch(g){console.error("Failed to load Linux subcategories:",g)}finally{L(!1)}}else S([]),b(null)}t()},[a]),s.useEffect(()=>{async function t(){if(!a){u([]),d([]),h(!1);return}if(a==="linux"&&!o){u([]),d([]),h(!1);return}h(!0);try{const g=await E.getByCategory(a,o||void 0);u(g),d(g)}catch(g){console.error("Failed to load OS:",g)}finally{h(!1)}}t()},[a,o]),s.useEffect(()=>{if(k.trim()==="")d(m);else{const t=k.toLowerCase(),g=m.filter(w=>{var C;return w.name.toLowerCase().includes(t)||w.version.toLowerCase().includes(t)||((C=w.description)==null?void 0:C.toLowerCase().includes(t))});d(g)}},[k,m]);function N(t){_(t),b(null)}function O(t){b(t)}return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Browse ISOs"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1",children:"Download Windows, Linux, macOS, and BSD"})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>N(null),className:`px-3 sm:px-4 py-2 rounded-lg font-medium text-sm sm:text-base transition-colors ${a===null?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:"All"}),M.map(t=>e.jsxs("button",{onClick:()=>N(t.value),className:`px-3 sm:px-4 py-2 rounded-lg font-medium text-sm sm:text-base transition-colors ${a===t.value?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:t.icon})," ",t.name]},t.value))]}),a==="linux"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Select a Distribution"}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[j.length," distributions"]})]}),P?e.jsx("div",{className:"flex items-center justify-center h-20",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>O(null),className:`px-3 py-2 rounded-lg font-medium text-xs sm:text-sm transition-colors ${o===null?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:"All Distributions"}),j.map(t=>e.jsxs("button",{onClick:()=>O(t.subcategory),className:`px-2 sm:px-3 py-2 rounded-lg font-medium text-xs sm:text-sm transition-colors flex items-center gap-1 sm:gap-2 ${o===t.subcategory?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-700"}`,title:`${t.name} (${t.count} ISOs)`,children:[e.jsx(A,{distroName:t.name,size:"sm"}),e.jsx("span",{className:"hidden sm:inline",children:t.name})]},t.subcategory))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search ISOs...",value:k,onChange:t=>D(t.target.value),className:"input pl-10 w-full",disabled:!a||a==="linux"&&!o}),e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),p&&e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading ISOs..."})]})}),!p&&a===null&&e.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[e.jsx("div",{className:"text-5xl sm:text-6xl mb-4",children:"ðŸ’¿"}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Select a Category"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Choose an OS category to browse available ISOs"})]}),!p&&a&&f.length===0&&e.jsx("div",{className:"text-center py-8 sm:py-12 px-4",children:a==="linux"&&!o?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Select a Distribution"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Choose a Linux distribution to browse available ISOs"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Results Found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Try adjusting your search query"})]})}),!p&&f.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:f.map(t=>e.jsxs("div",{className:"card hover:shadow-md transition-shadow p-3 sm:p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[t.category==="linux"?e.jsx(A,{distroName:t.subcategory||t.name,size:"lg",className:"shrink-0"}):e.jsx("span",{className:"text-2xl sm:text-3xl",children:t.icon}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm sm:text-lg text-gray-900 dark:text-white truncate",children:t.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:t.version})]})]})}),e.jsxs("div",{className:"space-y-1 sm:space-y-2 mb-3 sm:mb-4 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Arch:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.architecture})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Language:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.language})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Size:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.size_formatted})]}),e.jsxs("div",{className:"hidden sm:flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Source:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate ml-2",children:t.source||"Unknown"})]})]}),t.description&&e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-4 line-clamp-2 hidden sm:block",children:t.description}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(T,{os:t}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{url:t.url}),e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary flex-1 flex items-center justify-center gap-1 text-xs sm:text-sm",title:"Open source",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),e.jsx("span",{className:"hidden sm:inline",children:"Source"})]})]})]}),t.checksum&&e.jsxs("div",{className:"mt-2 sm:mt-3 text-[10px] sm:text-xs text-gray-500 dark:text-gray-400 truncate",children:["SHA256: ",t.checksum.slice(0,16),"..."]})]},t.id))})]})}function T({os:i}){return e.jsx("a",{href:`/api/downloads/direct/${i.id}`,className:"btn btn-primary w-full sm:flex-1 text-sm sm:text-base inline-flex items-center justify-center",download:!0,children:"Download"})}function K({url:i}){const[n,l]=s.useState(!1);async function r(){try{await navigator.clipboard.writeText(i),l(!0),setTimeout(()=>l(!1),2e3)}catch{const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.opacity="0",document.body.appendChild(c),c.focus(),c.select();try{document.execCommand("copy"),l(!0),setTimeout(()=>l(!1),2e3)}catch(m){console.error("Failed to copy:",m)}document.body.removeChild(c)}}return e.jsx("button",{onClick:r,className:"btn btn-secondary flex-1 flex items-center justify-center gap-1 text-xs sm:text-sm",title:"Copy download link",children:n?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"hidden sm:inline",children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Copy"})]})})}export{G as default};
